{% extends "base.html" %}
{% block content %}

<h2>Players</h2>
<p class="muted">Select a player to view detailed performance analytics</p>

<!-- ðŸ” Search box -->
<input
  type="text"
  id="playerSearch"
  placeholder="Search player by name..."
  class="player-search"
/>

<div class="card">
  <div class="player-list" id="playerList">
    {% for p in players %}
      <a href="/player/{{ p._id }}" class="player-row">
        <span class="player-name">{{ p.name }}</span>
        <span class="player-team">{{ p.team }}</span>
      </a>
    {% endfor %}
  </div>
</div>

<!-- ðŸ”Ž Search script -->
<script>
  const searchInput = document.getElementById("playerSearch");
  const playerRows = document.querySelectorAll(".player-row");

  searchInput.addEventListener("input", function () {
    const query = this.value.toLowerCase();

    playerRows.forEach(row => {
      const name = row.querySelector(".player-name").textContent.toLowerCase();
      row.style.display = name.includes(query) ? "flex" : "none";
    });
  });
</script>

{% endblock %}